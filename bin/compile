#!/bin/bash

echo "-----> Install dependencies to run compiled binary + cargo + libpq-dev for postgres"
apt-get update
apt-get install --yes gcc cargo libpq-dev

echo "-----> Reading env variables"
basedir="$( cd -P "$( dirname "$0" )" && pwd )"
source $basedir/read_env.sh
read_env "$3"

echo "-----> Compile the client application"
cd "$1"
cargo build --release
